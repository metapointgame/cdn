(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ff55d33"],{"158e":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"claim-container"},[e("p-header"),e("div",{staticClass:"claim-content d-flex justify-space-between align-center"},[e("v-spacer"),e("div",{staticClass:"reward d-flex flex-column align-center"},[e("div",{staticClass:"reward-title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.reward4Participating"))+" ")]),e("div",{staticClass:"reward-from"},[t._v(" "+t._s(t.participatingAmount+" BNB")+" ")]),e("div",{staticClass:"reward-items d-flex justify-space-between"},[e("div",{staticClass:"reward-item"},[e("img",{staticClass:"reward-icon",attrs:{src:a("8dfd"),alt:""}}),e("div",{staticClass:"reward-amount"},[t._v("HPT: "+t._s(t._f("toThousandFilter")(t.convertToEther(t.pHpt))))]),e("div",{staticClass:"reward-claim"},[e("p-button",{attrs:{width:210,disabled:0==t.pHpt||!t.isOver,loading:t.loadings.hpt4p,type:"dark",text:t.$vuetify.lang.t("$vuetify.ido.claim")},on:{confirm:function(i){return t.claim(1)}}})],1)]),e("div",{staticClass:"reward-item"},[e("img",{staticClass:"reward-icon",attrs:{src:a("8dfd"),alt:""}}),e("div",{staticClass:"reward-amount"},[e("div",{staticClass:"reward-amount"},[t._v("NFT: "+t._s(t.pNft))])]),e("div",{staticClass:"reward-claim"},[e("p-button",{attrs:{width:210,disabled:0==t.pNft||!t.isOver,loading:t.loadings.nft4p,type:"dark",text:t.$vuetify.lang.t("$vuetify.ido.claim")},on:{confirm:function(i){return t.claim(2)}}})],1)])])]),e("div",{staticClass:"reward-divider"}),e("div",{staticClass:"reward d-flex flex-column align-center"},[e("div",{staticClass:"reward-title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.reward4Invitation"))+" ")]),e("div",{staticClass:"reward-from"},[t._v(" "+t._s(t.invitationNum+" "+t.$vuetify.lang.t("$vuetify.common.people"))+" ")]),e("div",{staticClass:"reward-items d-flex justify-space-between"},[e("div",{staticClass:"reward-item"},[e("img",{staticClass:"reward-icon",attrs:{src:a("8dfd"),alt:""}}),e("div",{staticClass:"reward-amount"},[t._v("HPT: "+t._s(t._f("toThousandFilter")(t.convertToEther(t.iHpt))))]),e("div",{staticClass:"reward-claim"},[e("p-button",{attrs:{width:210,disabled:0==t.iHpt||!t.isOver,loading:t.loadings.hpt4i,type:"dark",text:t.$vuetify.lang.t("$vuetify.ido.claim")},on:{confirm:function(i){return t.claim(3)}}})],1)]),e("div",{staticClass:"reward-item"},[e("img",{staticClass:"reward-icon",attrs:{src:a("8dfd"),alt:""}}),e("div",{staticClass:"reward-amount"},[e("div",{staticClass:"reward-amount"},[t._v("NFT: "+t._s(t.iNft))])]),e("div",{staticClass:"reward-claim"},[e("p-button",{attrs:{width:210,disabled:0==t.iNft||!t.isOver,loading:t.loadings.nft4i,type:"dark",text:t.$vuetify.lang.t("$vuetify.ido.claim")},on:{confirm:function(i){return t.claim(4)}}})],1)])])]),e("v-spacer")],1)],1)},n=[],r=a("1da1"),s=a("5530"),c=(a("d3b7"),a("ac1f"),a("5319"),a("96cf"),a("d1ad")),o=a("82c1"),d=a("2f62"),l=a("3ee0"),u=l.IDO,f=u.address,p=u.abi,v={name:"Claim",components:{PHeader:c["a"],PButton:o["a"]},data:function(){return{idoCTR:null,participatingAmount:0,invitationNum:0,pHpt:0,pNft:0,iHpt:0,iNft:0,loadings:{hpt4p:!1,hpt4i:!1,nft4p:!1,nft4i:!1},isOver:!1}},computed:Object(s["a"])({},Object(d["c"])(["web3","currentAccount"])),mounted:function(){var t=this;this.$store.subscribe((function(i){var a=i.type,e=i.payload;"setMainChain"==a&&e&&t.initData()})),this.initContract(),this.initData()},methods:{initContract:function(){this.idoCTR=new this.web3.eth.Contract(p,f)},initData:function(){this.getTotalInviteeNum(),this.getTotalParticipatingAmount(),this.getReward()},getTotalInviteeNum:function(){var t=this;this.idoCTR.methods.getSubordinatesLen(this.currentAccount).call().then((function(i){console.log("my invitee num: ",i),t.invitationNum=i,t.iNft=t.getInvitationNft(i)}))},getTotalParticipatingAmount:function(){var t=this;this.idoCTR.methods.idoTokenAmounts(this.currentAccount).call().then((function(i){console.log("my invitee reward: ",t.convertToEther(i)/300+"BNB"),t.participatingAmount=t.convertToEther(i)/300}))},getReward:function(){this.getParticipatingReward(),this.getInvitationReward()},getParticipatingReward:function(){this.getParticipationHpt(),this.getParticipationNft()},getParticipationHpt:function(){var t=this;this.idoCTR.methods.idoTokenAmounts(this.currentAccount).call().then((function(i){t.pHpt=i,console.log("participating hpt: "+i)}))},getParticipationNft:function(){var t=this;return console.log("participatinng nft: ",0),this.idoCTR.methods.nftRewards(this.currentAccount).call().then((function(i){t.pNft=i,console.log("participating nft: "+i)})),0},getInvitationReward:function(){this.getInvitationHpt()},getInvitationHpt:function(){var t=this;this.idoCTR.methods.superiorRewards(this.currentAccount).call().then((function(i){t.iHpt=i,console.log("invitation hpt: ",i)}))},getInvitationNft:function(t){var i=Math.floor(t/10);return console.log("my invitation nft: ",i),i},claim:function(t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.prev=0,a.t0=t,a.next=1===a.t0?4:2===a.t0?7:3===a.t0?10:4===a.t0?13:16;break;case 4:return a.next=6,i.claimHpt4P();case 6:return a.abrupt("break",17);case 7:return a.next=9,i.claimNft4P();case 9:return a.abrupt("break",17);case 10:return a.next=12,i.claimHpt4I();case 12:return a.abrupt("break",17);case 13:return a.next=15,i.claimNft4I();case 15:return a.abrupt("break",17);case 16:return a.abrupt("break",17);case 17:i.$message.showMessage(i.$vuetify.lang.t("$vuetify.ido.claimSuccess"),"vertical"),a.next=23;break;case 20:a.prev=20,a.t1=a["catch"](0),i.$message.showMessage(i.$vuetify.lang.t("$vuetify.ido.claimFail"),"vertical");case 23:case"end":return a.stop()}}),a,null,[[0,20]])})))()},claimHpt4P:function(){var t=this;return this.loadings.hpt4p=!0,this.idoCTR.methods.claim().send({from:this.currentAccount}).finally((function(){t.getParticipationHpt(),t.loadings.hpt4p=!1}))},claimNft4P:function(){},claimHpt4I:function(){var t=this;return this.loadings.hpt4i=!0,this.idoCTR.methods.claimInviteReward().send({from:this.currentAccount}).finally((function(){t.getInvitationHpt(),t.loadings.hpt4i=!1}))},claimNft4I:function(){},convertToWei:function(t){return this.web3.utils.toWei(t+"","ether")},convertToEther:function(t){return this.web3.utils.fromWei(t+"","ether").replace(/^(.*\..{4}).*$/,"$1")}}},m=v,h=(a("f21d"),a("2877")),g=a("6544"),w=a.n(g),C=a("2fa4"),b=Object(h["a"])(m,e,n,!1,null,"7621a39a",null);i["default"]=b.exports;w()(b,{VSpacer:C["a"]})},"20f68":function(t,i,a){},"2fa4":function(t,i,a){"use strict";a("20f68");var e=a("80d2");i["a"]=Object(e["i"])("spacer","div","v-spacer")},"3cde":function(t,i,a){},"8dfd":function(t,i,a){t.exports=a.p+"img/icon_reward_hpt.bd544332.png"},f21d:function(t,i,a){"use strict";a("3cde")}}]);