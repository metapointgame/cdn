(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d8b3bd8"],{"03be":function(t,e,i){t.exports=i.p+"img/icon_ido.7d00288a.png"},"2a1c":function(t,e,i){t.exports=i.p+"img/icon_success.1a72039d.png"},"2e6e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAAAQCAMAAAA4YYPKAAAAXVBMVEUA8/8AAAAA8/8A8/8A//8A8/8A+f8A//8A9P8A9P8A8v8A9P8A8/8A8/8A9P8A+P8A8v8A8/8A8v8A8/8A8v8A9P8A9P8A8f8A8v8A8/8A9P8A8/8A8f8A9f8A8v9CLzwAAAAAH3RSTlPMAJlmASQLBXNENJNiVRoRx8C2qYgXW1uJf0Y5LU1Ne7ZoTwAAAM9JREFUSMfdlTkSg0AMBC3uBZb7NNj/f6aPGYvYobazrlKgjuZ2xuBI5IuLgKevN1CoG0PSGoWOBWWFwjiH3zscTpebQqRh4ZMFKQuLjMU9LqPLLSEi7YJCz4JmQ+HesnjA6TirG0LeZB6FC4vaHYVbA59H3A6puh3kQ/5AYc2irEBhldIjHPeluhnwceJYyKI8ZmFJn3DdOXUrCAuPGJx0HwFHL3i/qBtBfoQ6iBoY6iBqX6iDqHmhDqLWhTqIGhfqIGpbqIMoyp+DuNoYxBej5g4AKB/QtAAAAABJRU5ErkJggg=="},"5a43a":function(t,e,i){},"5b0f":function(t,e,i){},6063:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAAIBAMAAAAfGrY7AAAAD1BMVEUA8/8AAAAA8/8A8/8A9f8RF53HAAAABXRSTlPMAJlmM5A7LSMAAABbSURBVFjD7dOxDYAwEARBt0ALtEAL7r8mMpy8ZF4IyXrPpJfeth44HldgrGdgrC3weoUffHvn/PfzZnpAhGxEhCIkR4QipBoRipAcEYqQakQoQnJEKEKqWTPCGz1H9GGWl2VtAAAAAElFTkSuQmCC"},"68cd":function(t,e,i){t.exports=i.p+"img/icon_close_opacity.d21944cd.png"},"9f83":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHYAAAAaAgMAAAAf/0CjAAAADFBMVEUAAAAA8/8A8/8A8/8VOR+AAAAABHRSTlMAzJlmL3T8gAAAACBJREFUKM9j+A8GHxiAgGsVGDCAQCgYBIxKj0qPSgcAAI6xWFyH/5prAAAAAElFTkSuQmCC"},bba6:function(t,e,i){"use strict";i("5a43a")},d993:function(t,e,i){"use strict";i("5b0f")},e225:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAD4AQMAAADvpuXsAAAABlBMVEUA9P8AAADG1kmjAAAAAnRSTlPMABHcVXoAAAAWSURBVCjPYxgFlID/B/AgivSOAqoCAAGmIu3UsUTrAAAAAElFTkSuQmCC"},ed42:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ido-container"},[a("p-header"),a("div",{staticClass:"ido-content"},[a("div",{staticClass:"ido-title-mobile",class:{font32:1==t.state,font16:2==t.state,"event-over-mobile":3==t.state}},[3!==t.state?[a("span",{staticClass:"title-text"},[1==t.state?[t._v(t._s(t.$vuetify.lang.t("$vuetify.common.comeSoon")))]:t._e(),2==t.state?[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.idoTitle")))]:t._e(),3==t.state?[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.eventOver")))]:t._e()],2),a("img",{staticClass:"title-img",attrs:{src:i("03be"),alt:""}})]:[a("div",{staticClass:"d-flex justify-space-between align-center"},[a("div",{staticClass:"over-title"},[a("div",{staticClass:"over-text"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.eventOver"))+" ")])]),a("img",{staticClass:"over-img",attrs:{src:i("03be"),alt:""}})]),t.preParticipant.addr?a("div",{staticClass:"pre-participant d-flex justify-space-between"},[a("div",{staticClass:"pre-addr"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.preParticipant")+t.formatAddr(t.preParticipant.addr))+" ")]),a("div",{staticClass:"pre-time"},[t._v(" "+t._s(t.parseTime(t.preParticipant.time,"{y}/{m}/{d} {h}:{i}:{s}"))+" ")])]):t._e()]],2),a("div",{staticClass:"ido-countdown d-flex align-center justify-space-between",class:3==t.state?"hide-mobile":""},[3!==t.state?a("div",{staticClass:"countdown-container"},[a("div",{staticClass:"countdown-content",class:1==t.state?"coming":""},[a("div",{staticClass:"title-countdown"},[t._v(" "+t._s(this.$vuetify.lang.t("$vuetify.ido."+(1==t.state?"coming":"eventInProgress")))+" ")]),a("div",{staticClass:"time d-flex align-center justify-space-between"},[a("div",{staticClass:"t-num t-day"},[a("span",{class:0==t.countDownTime.day.split("")[0]?"gray":""},[t._v(t._s(t.countDownTime.day.split("")[0]))]),a("span",[t._v(t._s(t.countDownTime.day.split("")[1]))])]),a("div",{staticClass:"t-num t-hour"},[a("span",{class:0==t.countDownTime.hour.split("")[0]?"gray":""},[t._v(t._s(t.countDownTime.hour.split("")[0]))]),a("span",[t._v(t._s(t.countDownTime.hour.split("")[1]))])]),a("div",{staticClass:"t-num t-min"},[a("span",{class:0==t.countDownTime.minute.split("")[0]?"gray":""},[t._v(t._s(t.countDownTime.minute.split("")[0]))]),a("span",[t._v(t._s(t.countDownTime.minute.split("")[1]))])]),a("div",{staticClass:"t-num t-sec"},[a("span",{class:0==t.countDownTime.second.split("")[0]?"gray":""},[t._v(t._s(t.countDownTime.second.split("")[0]))]),a("span",[t._v(t._s(t.countDownTime.second.split("")[1]))])])]),1!==t.state?a("div",{staticClass:"pre-participant d-flex"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.preParticipant.addr.length,expression:"preParticipant.addr.length"}],staticClass:"pre-addr"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.preParticipant")+t.formatAddr(t.preParticipant.addr))+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.preParticipant.addr.length,expression:"preParticipant.addr.length"}],staticClass:"pre-time"},[t._v(" "+t._s(t.parseTime(t.preParticipant.time,"{y}/{m}/{d} {h}:{i}:{s}"))+" ")])]):t._e()])]):a("div",{staticClass:"over-container"},[a("div",{staticClass:"event-over"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.eventOver"))+" ")]),a("div",{staticClass:"pre-participant d-flex"},[a("div",{staticClass:"pre-addr"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.preParticipant")+t.formatAddr(t.preParticipant.addr))+" ")]),a("div",{staticClass:"pre-time"},[t._v(" "+t._s(t.parseTime(t.preParticipant.time,"{y}/{m}/{d} {h}:{i}:{s}"))+" ")])])]),a("img",{staticClass:"countdown-img",attrs:{src:i("03be"),alt:""}})]),a("div",{staticClass:"ido-statistics d-flex justify-space-between"},[a("div",{staticClass:"statistics-item reward"},[a("div",{staticClass:"item-title"},[a("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.totalAmount"))+" ")])]),a("div",{staticClass:"item-divider"}),a("div",{staticClass:"item-num"},[1==t.state?[t._v(" — — — BNB")]:[t._v(" "+t._s(t._f("toThousandFilter")(t.convertToEther(t.idoTotal.amount)))+" BNB ")]],2)]),a("img",{staticClass:"statistics-divider",attrs:{src:i("e225"),alt:""}}),a("div",{staticClass:"statistics-item invitee"},[a("div",{staticClass:"item-title"},[a("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.totalParticipants"))+" ")])]),a("div",{staticClass:"item-divider"}),a("div",{staticClass:"item-num"},[1==t.state?[t._v(" — — — ")]:[t._v(" "+t._s(t._f("toThousandFilter")(t.idoTotal.participants))+" ")]],2)]),a("img",{staticClass:"statistics-divider",attrs:{src:i("e225"),alt:""}}),a("div",{staticClass:"statistics-item pool"},[a("div",{staticClass:"item-title"},[a("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.totalPool"))+" ")])]),a("div",{staticClass:"item-divider"}),a("div",{staticClass:"item-num"},[1==t.state?[t._v(" — — — BNB")]:[t._v(" "+t._s(t._f("toThousandFilter")(t.convertToEther(t.idoTotal.pool)))+" BNB")]],2)])]),3!==t.state?a("div",{staticClass:"ido-entry"},[a("div",{staticClass:"ido-invited-by"},[a("div",{staticClass:"title-invite"},[a("img",{staticClass:"title-line",attrs:{src:i("2e6e"),alt:""}}),a("span",{staticClass:"title-text"},[t._v(t._s(this.$vuetify.lang.t("$vuetify.ido.invitedBy")))]),a("img",{staticClass:"title-line rotate",attrs:{src:i("2e6e"),alt:""}})]),t.hasReferer?a("div",{staticClass:"address hasReferer",on:{click:t.forbiddenModify}},[t._v(t._s(t.referer))]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.referer,expression:"referer"}],staticClass:"address",attrs:{type:"text",disabled:1==t.state,placeholder:1==t.state?t.$vuetify.lang.t("$vuetify.common.comeSoon").toUpperCase():t.$vuetify.lang.t("$vuetify.ido.enterAddress")},domProps:{value:t.referer},on:{input:function(e){e.target.composing||(t.referer=e.target.value)}}})]),a("div",{staticClass:"ido-contribute"},[a("div",{staticClass:"title-contribute"},[a("img",{staticClass:"title-line",attrs:{src:i("9f83"),alt:""}}),a("span",{staticClass:"title-text"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.chooseAmount"))+" ")]),a("img",{staticClass:"title-line rotate",attrs:{src:i("9f83"),alt:""}})]),a("div",{staticClass:"ratio"},[t._v("(1BNB=300HPT)")]),a("div",{staticClass:"amounts d-flex justify-space-between"},t._l(t.amountItems,(function(e,i){return a("div",{key:i,staticClass:"amount",class:[t.amount==e.amount&&1!==t.state?"selected":"",1==t.state?"disabled":""],on:{click:function(i){return t.selectAmount(e)}}},[t._v(" "+t._s(e.amount+" BNB")+" ")])})),0),a("div",{staticClass:"award"},[2==t.state?a("div",[t._v(t._s(t.award))]):t._e()])]),a("div",{staticClass:"ido-confirm"},[a("p-button",{attrs:{loading:t.loading,disabled:1==t.state,type:"dark"},on:{confirm:t.confirm}})],1)]):t._e(),3!==t.state?a("div",{staticClass:"ido-explanation"},[a("div",{staticClass:"rule"},[a("div",{staticClass:"title-explanation"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.idoRule")))]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.rule5"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.rule6"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.rule1"))+" "),a("div",{staticClass:"tip-ratio"},t._l(t.amountItems,(function(e,i){return a("div",{key:i,staticClass:"ratio"},[t._v(" "+t._s(e.exchange.replace("_partner_",t.$vuetify.lang.t("$vuetify.ido.partner")))+" ")])})),0)]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.rule2"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.rule3"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.rule4"))+" ")])]),a("img",{staticClass:"divider",attrs:{src:i("6063"),alt:""}}),a("div",{staticClass:"pool"},[a("div",{staticClass:"title-explanation"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.idoPool")))]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.pool1"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.pool2"))+" ")])]),a("img",{staticClass:"divider",attrs:{src:i("6063"),alt:""}}),a("div",{staticClass:"reward"},[a("div",{staticClass:"title-explanation"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.idoReward")))]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.reward1"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.reward2"))+" ")]),a("div",{staticClass:"tip-explanation"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.reward3"))+" ")])])]):t._e(),3!==t.state?a("div",{staticClass:"ido-reward d-flex justify-space-between"},[a("div",{staticClass:"reward-info reward-invitee"},[a("div",{staticClass:"reward-title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.numInvitee"))+" ")]),a("div",{staticClass:"reward-amount"},[1==t.state?[t._v(" — — — ")]:[t._v(" "+t._s(t._f("toThousandFilter")(t.myRewards.invitationNum))+" ")]],2)]),a("div",{staticClass:"reward-info reward-reward"},[a("div",{staticClass:"reward-title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.numReward"))+" ")]),a("div",{staticClass:"reward-amount"},[1==t.state?[t._v(" — — — ")]:[t._v(" "+t._s(t._f("toThousandFilter")(t.convertToEther(t.myRewards.invitationReward)))+" ")],t._v(" HPT ")],2)])]):t._e(),3!==t.state?a("div",{staticClass:"ido-rank"},[a("div",{staticClass:"rank-title"},[a("img",{staticClass:"title-line",attrs:{src:i("2e6e"),alt:""}}),a("span",{staticClass:"title-text"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.rankTitle")))]),a("img",{staticClass:"title-line rotate",attrs:{src:i("2e6e"),alt:""}})]),a("table",[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.userAddr")))]),a("th",{staticClass:"text-center"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.numInvitee")))]),a("th",{staticClass:"text-center"},[t._v(t._s(t.$vuetify.lang.t("$vuetify.ido.numReward")))])])]),a("tbody",[t.rankData.length?[t._l(t.rankData,(function(e,i){return a("tr",{key:i,staticClass:"text-center"},[a("td",[t._v(t._s(t.formatAddr(e.addr)))]),a("td",[t._v(t._s(e.invitees))]),a("td",[t._v(t._s(e.reward+" HPT"))])])})),t._l(10-t.rankData.length,(function(t){return a("tr",{key:t+"empty"},[a("td"),a("td"),a("td")])}))]:[a("tr",{staticClass:"no-data"},[a("td",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.ido.noData"))+" ")])])]],2)])]):t._e()]),a("ido-dialog",{ref:"idoModal",attrs:{addr:t.currentAccount}})],1)},s=[],n=i("1da1"),r=i("5530"),o=(i("96cf"),i("fb6a"),i("d3b7"),i("498a"),i("ac1f"),i("00b4"),i("a9e3"),i("159b"),i("5319"),i("d1ad")),c=i("82c1"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"642"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("div",{staticClass:"ido-modal"},[a("div",{staticClass:"modal-close",on:{click:function(e){return t.hideDialog()}}},[a("img",{staticClass:"icon-close",attrs:{src:i("68cd"),alt:""}})]),a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-content"},[a("img",{staticClass:"modal-icon",attrs:{src:i("2a1c"),alt:""}}),a("div",{staticClass:"modal-text"},[t._v(t._s(this.$vuetify.lang.t("$vuetify.ido.success")))]),a("div",{staticClass:"modal-tip"},[t._v(t._s(this.$vuetify.lang.t("$vuetify.ido.successTip")))]),a("div",{staticClass:"modal-addr"},[t._v(t._s(t.addr))])]),a("div",{staticClass:"modal-btn"},[a("p-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.addr,expression:"addr",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],attrs:{type:"dark",text:t.$vuetify.lang.t("$vuetify.common.copy")}})],1)])])])},l=[],u=i("8325"),v={components:{PButton:c["a"]},directives:{clipboard:u["a"]},data:function(){return{isShow:!1}},props:{addr:{type:String,default:""}},methods:{showDialog:function(){this.isShow=!0},hideDialog:function(){this.isShow=!1},confirm:function(){this.$emit("copy")},clipboardSuccess:function(){this.$message.showMessage(this.$vuetify.lang.t("$vuetify.common.copySuc"),"vertical"),this.hideDialog()}}},f=v,m=(i("d993"),i("2877")),p=i("6544"),A=i.n(p),h=i("169a"),g=Object(m["a"])(f,d,l,!1,null,"353dfb35",null),y=g.exports;A()(g,{VDialog:h["a"]});var _=i("2f62"),C=i("ed08"),w=i("dc40");function $(t){return Object(w["a"])({url:"/ido/invite/rewards/rank",method:"get",params:{top_number:t}})}var T=i("3ee0"),b=T.IDO,x=b.address,B=b.abi,R={name:"Ido",components:{PHeader:o["a"],PButton:c["a"],IdoDialog:y},data:function(){return{state:1,timer:null,countDownTime:{day:"00",hour:"00",minute:"00",second:"00"},hasReferer:!1,referer:"",amountItems:[{amount:.5,exchange:"0.5 BNB = 150 HPT",award:1},{amount:5,exchange:"5 BNB = 1500 HPT + 2 NFT + WL",award:2},{amount:50,exchange:"50 BNB = 15000 HPT + 30 NFT + WL + _partner_",award:3}],award:"",amount:0,idoCTR:null,startTime:0,endTime:1/0,deadTime:0,idoTotal:{amount:0,participants:0,pool:0},myRewards:{invitationNum:0,invitationReward:0},preParticipant:{time:"",addr:""},loading:!1,rankData:[]}},computed:Object(r["a"])({},Object(_["c"])(["web3","isMainChain","rootAccount","currentAccount","BNB"])),mounted:function(){var t=this;this.$store.subscribe((function(e){var i=e.type,a=e.payload;("setMainChain"==i&&a&&t.rootAccount.isLoggedIn||"setRootAccount"==i&&t.isMainChain)&&(t.getTotal(),t.getTime())})),this.initContract(),this.startCountDown(),this.getTime(),this.getTotal(),this.getRank()},destroyed:function(){this.stopCountDown()},methods:Object(r["a"])(Object(r["a"])({},Object(_["b"])(["setBNB"])),{},{parseTime:C["f"],initContract:function(){this.idoCTR=new this.web3.eth.Contract(B,x)},startCountDown:function(){var t=this;this.countDown(),this.timer=setInterval((function(){t.countDown()}),1e3)},stopCountDown:function(){this.timer&&(clearInterval(this.timer),this.countDownTime={day:"00",hour:"00",minute:"00",second:"00"})},countDown:function(){this.getDeadTime(),this.countDownTime=this.formatTime(this.deadTime)},getDeadTime:function(){var t=this.getTimeNow();t<this.startTime?(this.updateState(1),this.deadTime=this.startTime-t):t>this.startTime&&t<this.endTime?(this.updateState(2),this.deadTime=this.endTime-t):t>this.endTime&&(this.updateState(3),this.stopCountDown())},getTimeNow:function(){return(new Date).getTime()},formatTime:function(t){t=Math.floor(t/1e3);var e=this.paddingTimeNum(parseInt(t/60/60/24)),i=this.paddingTimeNum(parseInt(t/60/60%24)),a=this.paddingTimeNum(parseInt(t/60%60)),s=this.paddingTimeNum(parseInt(t%60));return{day:e,hour:i,minute:a,second:s}},paddingTimeNum:function(t){return("0"+t).slice(-2)},updateState:function(t){this.state=t,2==t&&0==this.amount&&(this.amount=.5,this.award=this.$vuetify.lang.t("$vuetify.ido.award1"))},selectAmount:function(t){this.amount=t.amount,this.award=this.$vuetify.lang.t("$vuetify.ido.award"+t.award)},getTime:function(){this.getStartTime(),this.getEndTime()},getStartTime:function(){var t=this;this.idoCTR.methods.startTime().call().then((function(e){console.log("ido start time: ",e),t.startTime=1661356799e3}))},getEndTime:function(){var t=this;this.idoCTR.methods.endTime().call().then((function(e){console.log("ido end time: ",e),t.endTime=1662739199e3}))},getTotal:function(){this.getTotalAmount(),this.getTotalParticipants(),this.getMiraclePool(),this.getPreParticipant(),this.rootAccount.isLoggedIn&&(this.getMyInviteeNum(),this.getMyInviteeRewards(),this.getReferer(),this.getBNB())},getTotalAmount:function(){var t=this;this.idoCTR.methods.idoAmountBnb().call().then((function(e){console.log("ido total amount: ",e),t.idoTotal.amount=e}))},getTotalParticipants:function(){var t=this;this.idoCTR.methods.idoUserLen().call().then((function(e){console.log("ido total participants: ",e),t.idoTotal.participants=e}))},getMiraclePool:function(){var t=this;this.idoCTR.methods.miraclePool().call().then((function(e){console.log("ido miraclePool: ",e),t.idoTotal.pool=e}))},getBNB:function(){var t=this;this.web3.eth.getBalance(this.currentAccount).then((function(e){console.log(" my BNB: ",e),t.setBNB(e)}))},getMyInviteeNum:function(){var t=this;this.idoCTR.methods.getSubordinatesLen(this.currentAccount).call().then((function(e){console.log("my invitee num: ",e),t.myRewards.invitationNum=e}))},getMyInviteeRewards:function(){var t=this;this.idoCTR.methods.superiorRewards(this.currentAccount).call().then((function(e){console.log("my invitee rewards: ",e),t.myRewards.invitationReward=e}))},forbiddenModify:function(){this.$message.showMessage(this.$vuetify.lang.t("$vuetify.ido.addrExisted"),"vertical")},getReferer:function(){var t=this;this.idoCTR.methods.superiors(this.currentAccount).call().then((function(e){"0x0000000000000000000000000000000000000000"==e?e="":t.hasReferer=!0,t.referer=e,console.log("my referer: ",e)}))},getPreParticipant:function(){var t=this;this.idoCTR.methods.lastIdoUser().call().then((function(e){"0x0000000000000000000000000000000000000000"==e.user?t.preParticipant.addr="":(t.preParticipant.time=e.timestamp,t.preParticipant.addr=e.user)}))},confirm:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=3;break}return t.$EventBus.$emit("showDownload"),e.abrupt("return");case 3:if(t.rootAccount.isLoggedIn){e.next=6;break}return t.$EventBus.$emit("showConnect"),e.abrupt("return");case 6:if(t.isMainChain){e.next=10;break}return e.next=9,Object(C["a"])();case 9:return e.abrupt("return");case 10:return e.next=12,t.checkAccount();case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:if(t.checkBnb()){e.next=17;break}return t.$message.showMessage(t.$vuetify.lang.t("$vuetify.ido.fail"),"vertical"),e.abrupt("return");case 17:console.log("confirm invited account"),t.pay(t.address);case 19:case"end":return e.stop()}}),e)})))()},pay:function(){var t=this;this.loading=!0,this.idoCTR.methods.pay(this.referer).send({from:this.currentAccount,value:this.convertToWei(.1)}).then((function(e){console.log("idoCTR pay:",e),t.getTotal(),t.$refs.idoModal.showDialog()})).catch((function(e){t.$message.showMessage(t.$vuetify.lang.t("$vuetify.ido.fail"),"vertical"),console.log(e)})).finally((function(){t.loading=!1}))},checkAccount:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=/^0x[0-9a-fA-F]{40}$/,a=t.referer.trim(),a){e.next=7;break}return t.$message.showMessage(t.$vuetify.lang.t("$vuetify.ido.addrMissing"),"vertical"),e.abrupt("return",!1);case 7:if(i.test(a)){e.next=12;break}return t.$message.showMessage(t.$vuetify.lang.t("$vuetify.ido.wrongAddr"),"vertical"),e.abrupt("return",!1);case 12:return e.next=14,t.isRefererValid();case 14:if(e.sent){e.next=19;break}return t.$message.showMessage(t.$vuetify.lang.t("$vuetify.ido.wrongAddr"),"vertical"),e.abrupt("return",!1);case 19:if(a!=t.currentAccount){e.next=22;break}return t.$message.showMessage(t.$vuetify.lang.t("$vuetify.ido.wrongAddr"),"vertical"),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})))()},checkBnb:function(){var t=Number(this.convertToEther(this.BNB));return!(t<this.amount)},isRefererValid:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.idoCTR.methods.isValidSuperior(t.referer).call().then((function(e){return console.log("address:",t.referer+"\n","valid: ",e),e})));case 4:return e.prev=4,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))()},getRank:function(){var t=this;$().then((function(e){var i=e.invite_rank;t.rankData=t.formatRank(i)}))},formatRank:function(t){console.log(t);var e=[];return t.forEach((function(t){e.push({addr:t.address,invitees:t.invite_user_number,reward:t.invite_rewards.prop_number/1e4})})),e},convertToWei:function(t){return this.web3.utils.toWei(t+"","ether")},convertToEther:function(t){return this.web3.utils.fromWei(t+"","ether").replace(/^(.*\..{4}).*$/,"$1")},formatAddr:function(t){var e=/^(.{4}).+(.{4})$/;return t.replace(e,"$1...$2")}})},P=R,D=(i("bba6"),Object(m["a"])(P,a,s,!1,null,"dcbddbd0",null));e["default"]=D.exports}}]);